<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-6  d-flex
            flex-column m-3 justify-content-end">
                <label for="" class="p-3">Name</label>
                <input type="text" name="" id="name">
                <label for="" class="p-3">Age:</label>
                </head>
                <input type="text" name="" id="age">
                <button onclick="handlesubmit()" class="m-2">submit</button>
            </div>
            <div class="col-6">
                <table class="table m-5 b-2" id="table">


                </table>
            </div>
        </div>
    </div>
    <script>
        let persons = [{
            name: 'shalini', age: 25
        }, {
            name: 'sara', age: 27
        }]


        let namei = document.getElementById('name')
        let agei = document.getElementById('age')
        let table = document.getElementById('table')

        let edit = -1 //bcoz the index starts with 0 -1 means delete
        function handlesubmit() {
            if (edit == -1) {
                let name = namei.value
                let age = agei.value
                let temp = {
                    name: name, age: age
                }
                persons = [...persons, temp]
                display()
                clear()
            }
            else {
                let name = namei.value
                let age = agei.value
                let temp = {
                    name: name, age: age
                }
                persons[edit] = temp
                display()
                clear()
                edit = -1
            }

        }

        function display() {
            table.innerHTML = persons.map((person, i) => `<tr>
<td>${person.name}</td>
<td>${person.age}</td>
<td><button onclick=edit1(${i}) >edit</button></td>
<td><button onClick=del(${i})>delete</button></td>
</tr>`)
        }
        function del(id) {
            let temp = persons.filter((person, i) => i !== id)
            persons = [...temp]
            display()
        }

        function edit1(id) {
            let temp = persons[id]
            namei.value = temp.name
            agei.value = temp.age
            edit = id
        }
        function clear() {
            namei.value = ' '
            agei.value = ' '
        }


        display()
    </script>
</body>

</html>


<!-- 
textcintentr is used to change the values given in js
inner html used to proint the value from html
innertext is used to  -->